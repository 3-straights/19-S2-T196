<!DOCTYPE html>
<html>
<head>

  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">

<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
.collapsible {
  background-color: #777;
  color: white;
  cursor: pointer;
  padding: 18px;
  width: 100%;
  height: 100%;
  border: none;
  outline: none;
  font-size: 20px;

  overflow: hidden;


}

.active, .collapsible:hover {
  background-color: #555;
}


.helpAssist {
  display: none;
  position: fixed;
  z-index: 1;
  padding-top: 100px;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgb(0,0,0);
  background-color: rgba(0,0,0,0.4);}

/* Modal Content */
.helpContent {
  background-color: #fefefe;
  color: black;
  margin: auto;
  height: 70%;
  border: 1px solid #888;
  width: 35%;
}

/* The Close Button */
.closeHelp {
  color: black;
  float: right;
  font-size: 26px;
  font-weight: bold;
}

.closeHelp:hover,
.closeHelp:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}


.boatDetail {
background-color: #F0F8FF;
height: 250px;
width: 400px;
text-align: center;
font-size: 20px;
color: blue;
border-width: 9px;
border-style: solid;
border-color: darkblue;
}

.content {
  padding: 18px;
  display: none;
  overflow: hidden;
  background-color: #f1f1f1;
  width: 100%;
  height: 100%;
  outline: none;
}

div.content div {width: 33%; float: left}
.clear { clear: both; height: 30px}

.typeOfShip {
  background-color: #777;
  color: white;
  padding: 18px;
  width: 100%;
  border: none;
  outline: none;
  font-size: 20px;
  overflow: hidden;


}
.chooseBoat {  padding: 18px;
  display: block;
  overflow: hidden;
  background-color: #f1f1f1;
  width: 100%;
  height: 100%;
  outline: none;
  border-width: 9px;
  border-style: solid;
  border-color: orange;}

div.chooseBoat div {float:left; margin-left: 375px}
.location {
  display: none;
    background-color: #f1f1f1;
  color: black;
  padding: 18px;
  width: 100%;
  border: none;
  text-align: left;
  outline: none;
  font-size: 20px;

}
.date {
  background-color: #777;
  color: white;
  cursor: pointer;
  padding: 18px;
  width: 100%;
  border: none;
  text-align: left;
  outline: none;
  font-size: 15px;
}
.enterButton {
  background-color: #0000FF; /* Green */
  border: none;
  color: white;
  padding: 15px 32px;
  text-decoration: none;
  display: inline-block;
  font-size: 20px;
  float: right;
  cursor: pointer
}
.mdl-layout__header-row {
  margin-left: 550px;
  width: 100%;
  height: 100%;

}
select {
    width: 180px;
    height: 40px;
    margin: 10px;
}
p {
  width: 100%;
  text-align: center;
}

.inputOther {

margin-top: -170px;
height: 70%;
}

</style>
<title>Ships Detail & Route Information</title>
</head>
    <body>
        <header class="mdl-layout__header" >
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <div class="mdl-layout__header-row"><span class="mdl-layout-title" style="font-family: times, serif; font-size:18pt; font-style:italic; color:black "><b>Ship Details & Informations</b></font> </span>
      <a href= 'file:///C:/Users/User/Desktop/java.script/week%207%20submission/mdl.html'><input type='image' name = 'home' src = 'https://icon-library.net/images/home-logo-icon/home-logo-icon-0.jpg' title="home" width = '50' height = '50'></a>
      <button id= 'helpToggle' class = 'helpToggle'>HELP!? </button>
      <div id = 'helpAssist' class = 'helpAssist'>
        <div class = 'helpContent' id= 'helpContent'>
        <span class="closeHelp" id = 'closeHelp'> &times; </span>
        <p>
          <b>How to use?</b> <hr>
          1) Press the button 'Choose your location' once <br>
          2) Select your port through the world icon <br>
          3) Input values into 'Departure' and 'Destination' <br>
          4) Press enter to toggle searchbar <br>
          5) Type 'Other' or 'other' in searchbar if selected port does not exist <br>
          #  Fill in the given sections if 'Other' is selected
          6) Click 'Set' once the inputs have been filled <br>
          7) The selected ports will be shown in the given map <br>
          8) Select 'Confirm' to proceed <br>
          9) Choose your ship, and select 'Other' if interested ship is not shown in the list <br>
          10) Set date & time
          11) Click 'Enter' and you will see the selected result <br>
          12) Transition history(ies) can be found in 'Display Route' <br> 
        </p>
</div>
</div>
      </div>
    </div>
</div>


      </header>

<br><br>
<button type="button" class="collapsible" title= 'Click to view/hide selected route' ><strong>Display Route: </strong><span class= 'mdl_arrow1' style="font-size:14pt" >ðŸ”½</span></button>
<div class="content" id = 'content'><br>
</div>
<div class='clear'></div>

<button type = 'button' class = 'collapsible'title='location...'><b>Choose your location: </b><span class= 'mdl_arrow1' style="font-size:14pt" >ðŸ”½</span></button>
<div class = 'location' style = 'text-align: center'>

  Select Ports:  &nbsp; &nbsp; <a href= 'file:///C:/Users/User/Desktop/java.script/week%207%20submission/map.html'><input type='image' name = 'map' src = 'https://cdn.pixabay.com/photo/2012/04/14/16/33/globe-34526_960_720.png' title="map" width = '30' height = '30'></a><br><br>




</div>

<div class='typeOfShip' style='text-align: center'>
<b>Choose your ship:</b> <br>

</div>
<div class = 'chooseBoat' id='chooseBoat'>
<div><p>
         <select name="boatOpt" id = "boatOpt" onchange= " boatDetail(this.options[this.selectedIndex].value); insertOther(this.options[this.selectedIndex].value); insertShipName(this.options[this.selectedIndex].value) ">
           <option selected="selected">Choose your boat...</option>
         </select>

       </p>
         </div>
<div class='boatDetail' id='boatDetail'></div>
<div class='inputOther' id="Other" style = 'background-color: #F0F8FF; color: black'></div>
</div>


<button type="button" class="collapsible" title = 'Click to expand/hide'><b>Date & Time: </b> <span style="font-size:14pt" class="mdl-cell mdl-cell--1-col">ðŸ”½</span></button>
  <div class='content'><br>
    <p style='text-align: center'>Set Date: <input id='date' type = 'date' > <br><br>
    Set Time: <input id='time' type = 'time'>
    <br>
  </p>
</div>
<br><br>
<button type = 'button' class = 'enterButton' onmouseup =" newDiv()">Enter</button> <br>
<button type = 'button' onmouseup='shipInfo()'>yoyooy</button>
<script>


  var coll = document.getElementsByClassName("collapsible");
  var i;

  for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var content = this.nextElementSibling;
      if (content.style.display === "block") {
        content.style.display = "none";
      } else {
        content.style.display = "block";
      }
    });
  }

  var boatOpt = document.getElementById('boatOpt');
  for (let i = 0; i<JSON.parse(localStorage.getItem('shipInformation')).name.length; i++)
  {
    let options = document.createElement("OPTION");
    let txt = document.createTextNode(JSON.parse(localStorage.getItem('shipInformation')).name[i]);
    options.appendChild(txt);
    options.setAttribute('value',JSON.parse(localStorage.getItem('shipInformation')).name[i]);
    boatOpt.insertBefore(options,boatOpt.lastChild);
  }
  let options = document.createElement("OPTION");
  let txt = document.createTextNode('Other');
  options.appendChild(txt);
  options.setAttribute('value','Other');
  boatOpt.insertBefore(options,boatOpt.lastChild);


  function insertShipName(boat)
  {
    for(let i=0; i<JSON.parse(localStorage.getItem('shipInformation')).name.length; i++)
    {
if (boat== JSON.parse(localStorage.getItem('shipInformation')).name[i])
    {
      if (JSON.parse(localStorage.getItem('shipInformation')).status[i] !== 'available' )
      {
      alert('The ship is currently unavailable, please choose another ship instead!');

}
    }
    }
}

  function insertOther(boatName){
    if(boatName=='Other')
    {
      document.getElementById('Other').innerHTML='Ship Name: <input type="text" name="Name" id="shipName" " style="float: right"/><br><br>';
      document.getElementById('Other').innerHTML += 'Max Speed: <input type="text" name="speed" id="shipSpeed" style="float: right"/><br><br>';
      document.getElementById('Other').innerHTML +='Full tank: <input type="text" name="fullTank" id="fullTank"  style="float: right"/><br><br> ';
      document.getElementById('Other').innerHTML += 'Cost: <input type="text" name= "cost" id="shipCost" style="float: right"><br><br>';
      document.getElementById('Other').innerHTML += 'status: <input type="text" name= "status" id="shipStatus" style="float: right" ><br><br>';
      document.getElementById('Other').innerHTML += 'comment: <input type="text" name= "comment" id="shipComments" style="float: right" ><br>';
  }
    else
    {
      document.getElementById('Other').innerHTML='';
  }
}
function newDiv()
{

var div = document.createElement("div");
div.setAttribute('class', 'myclass');
div.style.width = "20%";
div.style.height = "200px";
div.style.background = "#191970";
div.style.color = "white";
div.style.fontSize = '18px';
div.style.textAlign = 'center';
div.style.overflowY = 'scroll';
div.innerHTML += 'Ship: '+JSON.parse(localStorage.getItem('myShip')).boatName;
div.innerHTML+= '<span style="font-family: times, serif; font-size:14pt; font-style:italic; color:orange"> Departure: ' + JSON.parse(localStorage.getItem('intPort')).portName +'Country: '+JSON.parse(localStorage.getItem('intPort')).country+ '</span><br>';
div.innerHTML += '<span style="font-family: times, serif; font-size:14pt; font-style:italic; color:orange"> Destination: ' + JSON.parse(localStorage.getItem('finPort')).portName+ 'Country: '+ JSON.parse(localStorage.getItem('finPort')).country+'</span><br>';

div.innerHTML += 'date: 08/3/2019 <br>';
div.innerHTML += 'Weather: Sunny <br>';
div.innerHTML += '...'


document.getElementById("content").appendChild(div);
}


function boatDetail(Detail)
{
let shipInfoSec = document.getElementById('boatDetail');
for (let i=0; i<JSON.parse(localStorage.getItem('shipInformation')).name.length ;i++)
{
if (Detail == JSON.parse(localStorage.getItem('shipInformation')).name[i])
{
shipInfoSec.innerHTML = '<br><br><br><br> Status: ' + JSON.parse(localStorage.getItem('shipInformation')).status[i] + '<br>';
shipInfoSec.innerHTML += 'Ship Name: ' + Detail +'<br>';
shipInfoSec.innerHTML += 'Maximum speed: ' + JSON.parse(localStorage.getItem('shipInformation')).maxSpeed[i] + '<br>';
shipInfoSec.innerHTML += 'Full tank range: ' + JSON.parse(localStorage.getItem('shipInformation')).range[i] + '<br>';
shipInfoSec.innerHTML += 'Cost: ' + JSON.parse(localStorage.getItem('shipInformation')).cost[i] + ' /L <br>';
shipInfoSec.innerHTML += 'Comment: ' + JSON.parse(localStorage.getItem('shipInformation')).comments[i] + '<br>';
}

}

if (Detail == 'Choose your boat...')
{
  shipInfoSec.innerHTML = '';
}
}
let helpToggle = document.getElementById("helpAssist");
let helpButton = document.getElementById("helpToggle");
let closeHelp = document.getElementById("closeHelp");

helpButton.onclick = function() {
  helpToggle.style.display ="block";
}

closeHelp.onclick = function() {
  helpToggle.style.display ='none';
}

window.onclick = function(event){
  if (event.target == helpToggle){
    helpToggle.style.display = 'none';
  }
}
</script>

    </body>
    <script src="ship.js"></script>

</html>
